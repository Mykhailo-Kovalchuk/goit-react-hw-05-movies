{"version":3,"file":"static/js/973.282f8f6d.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/SearchMovie/searchMovie.module.css?5e92","components/SearchMovie/SearchMovie.jsx","webpack://react-homework-template/./src/pages/Movies/movies.module.css?e50d","pages/Movies/Movies.jsx","services-functions/api-movies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"searchMovie_form__8OA4F\",\"inputSearch\":\"searchMovie_inputSearch__tcU4q\",\"buttonSearch\":\"searchMovie_buttonSearch__iaU+r\"};","import React from 'react';\nimport css from './searchMovie.module.css';\nimport { useSearchParams } from 'react-router-dom';\n\nconst SearchMovie = ({ onSubmit }) => {\n\nconst [searchQuery, setSearchQuery] = useSearchParams();\nconst query = searchQuery.get('query')\n// console.log(query);\n\n\n  const submitHandler = event => {\n    event.preventDefault();\n    const inputValue = event.currentTarget.elements.searchInput.value;\n    // console.log(inputValue);\n\n    // if (inputValue) {\n    //   setSearchQuery({ query: inputValue });\n    //   console.log(query)\n    // } else {\n    //   setSearchQuery({});\n    // }\n    if (inputValue) {\n      // Оновлюємо параметри пошуку лише після сабміту\n      setSearchQuery({ query: inputValue });\n    } else {\n      setSearchQuery({});\n    }\n\n\n    onSubmit(inputValue.toLowerCase());\n    \n  };\n\n  return (\n    <div>\n      <form className={css.form} onSubmit={submitHandler}>\n        <input\n          name=\"searchInput\"\n          type=\"text\"\n          className={css.inputSearch}\n          required\n          autoFocus\n          placeholder=\"Movie title\"\n          defaultValue={query}\n        />\n        <button type=\"submit\" className={css.buttonSearch}> \n          Search Movie\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default SearchMovie;\n","// extracted by mini-css-extract-plugin\nexport default {\"moviesList\":\"movies_moviesList__Q50Yx\",\"movieList\":\"movies_movieList__UNxIB\"};","import React, { useState, useEffect } from 'react';\nimport SearchMovie from '../../components/SearchMovie/SearchMovie';\n// import MovieDetails from '../../components/MovieDetails/MovieDetails'\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport css from './movies.module.css';\n\n\n\nimport { fetchMoviesKeyWord } from '../../services-functions/api-movies';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [queryWord, setQueryWord] = useState(searchParams.get('query') ?? \"\");\n  const [queryResponse, setQueryResponse] = useState([]);\n\n  const location = useLocation();\n  // const [value, setValue] = useState()\n  // console.log(location);\n\n/////////////////////////// \n\n\nuseEffect(() => {\n  searchParams.set('query', queryWord);\n  // setSearchParams(searchParams); // Закоментовую, оськільки саме ця частинка відмальовувала мені порожній рядок запиту в url\n}, [queryWord, searchParams, setSearchParams]);\n\n//////////////////////\n  const onSubmit = formData => {\n\n    setQueryWord(formData);\n\n    return formData;\n  };\n\n  useEffect(() => {\n    \n    const fetchQueryWordData = async () => {\n      if (queryWord === false) {return}\n      try {\n        const queryData = await fetchMoviesKeyWord(queryWord);\n        setQueryResponse(queryData);\n  \n        return queryData;\n      } catch (error) {\n        console.log(error.message)\n      }\n    \n    };\n\n    fetchQueryWordData();\n  }, [queryWord]);\n\n  const responseArray = queryResponse?.map(movie => {\n    return (\n      <li key={movie.id} className={css.movieList}>\n        <Link state={{ from: location }} to={`/movies/${movie.id}`}>\n          {movie.title}\n        </Link>\n      </li>\n    );\n  });\n\n  return (\n    <div>\n      <SearchMovie onSubmit={onSubmit} defaultValue={queryWord}/>\n\n      <ul className={css.moviesList}>{responseArray}</ul>\n\n      {/* <MovieDetails userQuery={queryResponse}/> */}\n    </div>\n  );\n};\n\nexport default Movies;\n\n\n","import axios from 'axios';\n\nconst API_KEY = '1dda9629a73fafaba3750493ea4855ff';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst TOKEN_KEY =\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxZGRhOTYyOWE3M2ZhZmFiYTM3NTA0OTNlYTQ4NTVmZiIsInN1YiI6IjY1YTUwYjgzOGRiYzMzMDEyMzZhNjg1MSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.4k44fb6f12sXSLjD4YUDgIwseeksxPF-XRmodvwltRY';\n\n// const API = axios.create({\n//   baseURL: BASE_URL,\n//   params: {\n//     api_key: API_KEY,\n//     language: 'en-US',\n//     include_adult: false,\n//     page: 1,\n//   },\n// });\n\naxios.defaults.headers.common['Authorization'] = TOKEN_KEY;\n\nexport function fetchMoviesInfo() {\n  const URL = `${BASE_URL}movie/157336?api_key=${API_KEY}`;\n  // Токен доступу для читання API\n  // \"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxZGRhOTYyOWE3M2ZhZmFiYTM3NTA0OTNlYTQ4NTVmZiIsInN1YiI6IjY1YTUwYjgzOGRiYzMzMDEyMzZhNjg1MSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.4k44fb6f12sXSLjD4YUDgIwseeksxPF-XRmodvwltRY\"\n  // Example https://api.themoviedb.org/3/movie/157336?api_key=1dda9629a73fafaba3750493ea4855ff\n\n  return axios\n    .get(URL)\n    .then(resp => {\n      console.log(resp);\n      console.log(resp.data);\n      return resp.data;\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\n// UserQuery by KeyWord\n// export function fetchMoviesKeyWord(userQueryWord) {\n//   // const URL = `${BASE_URL}search/movie/?query=Batman`;\n//   const requestConfig = {\n//     params: {\n//       query: userQueryWord,\n//     },\n//   };\n\n//   return API.get('/search/movie', requestConfig)\n//     .then(resp => {\n//       // console.log(resp);\n//       // console.log(resp.data);\n//       return resp.data;\n//     })\n//     .catch(error => {\n//       console.error(error);\n//       throw error; //якщо помилка.\n//     });\n// }\n\nexport function fetchMoviesKeyWord(userQueryWord) {\n  // const queryParam = userQueryWord !== \"\" ? `?query=${userQueryWord}` : \"\";\n  const URL = `${BASE_URL}search/movie?query=${userQueryWord}&api_key=${API_KEY}`;\n  return axios\n    .get(URL)\n    .then(resp => {\n      //  console.log(resp.data)\n      // console.log(resp.data.results);\n      return resp.data.results;\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\n// Tranding\n//      --url 'https://api.themoviedb.org/3/trending/movie/day?language=en-US' \\\n\nexport function fetchTrandingMovies() {\n  const URL = `${BASE_URL}trending/movie/day?api_key=1dda9629a73fafaba3750493ea4855ff`;\n\n  return axios\n    .get(URL)\n    .then(resp => {\n      //  console.log(resp)\n      //  console.log(resp.data.results)\n      return resp.data.results;\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\n// MovieDetails\nexport function fetchMovieById(movieId) {\n  const URL = `${BASE_URL}movie/${movieId}?api_key=${API_KEY}`;\n  // Токен доступу для читання API\n  // \"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxZGRhOTYyOWE3M2ZhZmFiYTM3NTA0OTNlYTQ4NTVmZiIsInN1YiI6IjY1YTUwYjgzOGRiYzMzMDEyMzZhNjg1MSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.4k44fb6f12sXSLjD4YUDgIwseeksxPF-XRmodvwltRY\"\n  // Example https://api.themoviedb.org/3/movie/157336?api_key=1dda9629a73fafaba3750493ea4855ff\n\n  return axios\n    .get(URL)\n    .then(resp => {\n      // console.log(resp)\n      // console.log(resp.data);\n      return resp.data;\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\n// Cast\n\nexport function fetchCast(movieId) {\n  const URL = `${BASE_URL}movie/${movieId}/credits?api_key=${API_KEY}`;\n  // Токен доступу для читання API\n  // \"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxZGRhOTYyOWE3M2ZhZmFiYTM3NTA0OTNlYTQ4NTVmZiIsInN1YiI6IjY1YTUwYjgzOGRiYzMzMDEyMzZhNjg1MSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.4k44fb6f12sXSLjD4YUDgIwseeksxPF-XRmodvwltRY\"\n\n  // Example https://api.themoviedb.org/3/movie/157336?api_key=1dda9629a73fafaba3750493ea4855ff\n  return axios\n    .get(URL)\n    .then(resp => {\n      // console.log(resp)\n      // console.log(resp.data.cast);\n      return resp.data.cast;\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\n// Reviews\nexport function fetchReviews(movieId) {\n  const URL = `${BASE_URL}movie/${movieId}/reviews?api_key=${API_KEY}`;\n  // Токен доступу для читання API\n  // \"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxZGRhOTYyOWE3M2ZhZmFiYTM3NTA0OTNlYTQ4NTVmZiIsInN1YiI6IjY1YTUwYjgzOGRiYzMzMDEyMzZhNjg1MSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.4k44fb6f12sXSLjD4YUDgIwseeksxPF-XRmodvwltRY\"\n\n  // Example https://api.themoviedb.org/3/movie/157336?api_key=1dda9629a73fafaba3750493ea4855ff\n  return axios\n    .get(URL)\n    .then(resp => {\n      // console.log(resp)\n      // console.log(resp.data.results);\n      return resp.data.results;\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n"],"names":["_ref","onSubmit","_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","searchQuery","setSearchQuery","query","get","_jsx","children","_jsxs","className","css","event","preventDefault","inputValue","currentTarget","elements","searchInput","value","toLowerCase","name","type","required","autoFocus","placeholder","defaultValue","_searchParams$get","searchParams","setSearchParams","_useState","useState","_useState2","queryWord","setQueryWord","_useState3","_useState4","queryResponse","setQueryResponse","location","useLocation","useEffect","set","fetchQueryWordData","_asyncToGenerator","_regeneratorRuntime","_callee","queryData","_context","prev","next","abrupt","fetchMoviesKeyWord","sent","t0","console","log","message","stop","apply","arguments","responseArray","map","movie","Link","state","from","to","concat","id","title","SearchMovie","formData","API_KEY","BASE_URL","userQueryWord","URL","axios","then","resp","data","results","catch","error","fetchTrandingMovies","fetchMovieById","movieId","fetchCast","cast","fetchReviews"],"sourceRoot":""}