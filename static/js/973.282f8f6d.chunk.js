"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[973],{973:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var r=n(861),c=n(439),a=n(757),o=n.n(a),u=n(791),i="searchMovie_form__8OA4F",s="searchMovie_inputSearch__tcU4q",f="searchMovie_buttonSearch__iaU+r",l=n(87),h=n(184),v=function(e){var t=e.onSubmit,n=(0,l.lr)(),r=(0,c.Z)(n,2),a=r[0],o=r[1],u=a.get("query");return(0,h.jsx)("div",{children:(0,h.jsxs)("form",{className:i,onSubmit:function(e){e.preventDefault();var n=e.currentTarget.elements.searchInput.value;o(n?{query:n}:{}),t(n.toLowerCase())},children:[(0,h.jsx)("input",{name:"searchInput",type:"text",className:s,required:!0,autoFocus:!0,placeholder:"Movie title",defaultValue:u}),(0,h.jsx)("button",{type:"submit",className:f,children:"Search Movie"})]})})},d=n(689),m="movies_moviesList__Q50Yx",p="movies_movieList__UNxIB",_=n(290),y=function(){var e,t=(0,l.lr)(),n=(0,c.Z)(t,2),a=n[0],i=n[1],s=(0,u.useState)(null!==(e=a.get("query"))&&void 0!==e?e:""),f=(0,c.Z)(s,2),y=f[0],g=f[1],x=(0,u.useState)([]),Z=(0,c.Z)(x,2),b=Z[0],k=Z[1],j=(0,d.TH)();(0,u.useEffect)((function(){a.set("query",y)}),[y,a,i]);(0,u.useEffect)((function(){var e=function(){var e=(0,r.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==y){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,(0,_.Qk)(y);case 5:return t=e.sent,k(t),e.abrupt("return",t);case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[y]);var I=null===b||void 0===b?void 0:b.map((function(e){return(0,h.jsx)("li",{className:p,children:(0,h.jsx)(l.rU,{state:{from:j},to:"/movies/".concat(e.id),children:e.title})},e.id)}));return(0,h.jsxs)("div",{children:[(0,h.jsx)(v,{onSubmit:function(e){return g(e),e},defaultValue:y}),(0,h.jsx)("ul",{className:m,children:I})]})}},290:function(e,t,n){n.d(t,{Bt:function(){return f},DC:function(){return u},Mc:function(){return i},Qk:function(){return o},y:function(){return s}});var r=n(340),c="1dda9629a73fafaba3750493ea4855ff",a="https://api.themoviedb.org/3/";function o(e){var t="".concat(a,"search/movie?query=").concat(e,"&api_key=").concat(c);return r.Z.get(t).then((function(e){return e.data.results})).catch((function(e){console.log(e)}))}function u(){var e="".concat(a,"trending/movie/day?api_key=1dda9629a73fafaba3750493ea4855ff");return r.Z.get(e).then((function(e){return e.data.results})).catch((function(e){console.log(e)}))}function i(e){var t="".concat(a,"movie/").concat(e,"?api_key=").concat(c);return r.Z.get(t).then((function(e){return e.data})).catch((function(e){console.log(e)}))}function s(e){var t="".concat(a,"movie/").concat(e,"/credits?api_key=").concat(c);return r.Z.get(t).then((function(e){return e.data.cast})).catch((function(e){console.log(e)}))}function f(e){var t="".concat(a,"movie/").concat(e,"/reviews?api_key=").concat(c);return r.Z.get(t).then((function(e){return e.data.results})).catch((function(e){console.log(e)}))}r.Z.defaults.headers.common.Authorization="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxZGRhOTYyOWE3M2ZhZmFiYTM3NTA0OTNlYTQ4NTVmZiIsInN1YiI6IjY1YTUwYjgzOGRiYzMzMDEyMzZhNjg1MSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.4k44fb6f12sXSLjD4YUDgIwseeksxPF-XRmodvwltRY"}}]);
//# sourceMappingURL=973.282f8f6d.chunk.js.map